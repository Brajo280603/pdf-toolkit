import"./CWj6FrbW.js";import{e as or,t as Ae,f as ir,g as X,s as sr,j as ae,r as ne,aa as Pe}from"./4Vjq8Xjj.js";import{r as cr,t as Xe,a as _e}from"./B4dHhGZh.js";import{i as ur}from"./DTNDf1gC.js";import{s as lr}from"./CCLTtN7-.js";import{b as re}from"./yOqKe9X7.js";import{p as k,r as dr}from"./BQESZp3Y.js";import{d as fr,e as hr,m as vr,i as er,f as gr,h as pr,u as mr,n as yr}from"./BjFtRYDz.js";var wr=hr("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),Y=wr.build(),br=r=>{var e;return((e=r.ids)==null?void 0:e.root)??`progress-${r.id}`},Lr=r=>{var e;return((e=r.ids)==null?void 0:e.track)??`progress-${r.id}-track`},Sr=r=>{var e;return((e=r.ids)==null?void 0:e.label)??`progress-${r.id}-label`},kr=r=>{var e;return((e=r.ids)==null?void 0:e.circle)??`progress-${r.id}-circle`};function Er(r,e){const{context:n,computed:s,prop:i,send:l,scope:h}=r,L=s("percent"),W=s("isIndeterminate")?"":s("formatter").format(s("percent")/100),S=i("max"),E=i("min"),y=i("orientation"),P=i("translations"),_=s("isIndeterminate"),M=n.get("value"),g=(P==null?void 0:P.value({value:M,max:S,percent:L,min:E}))??"",m=Rr(M,S),q={role:"progressbar","aria-label":g,"data-max":S,"aria-valuemin":E,"aria-valuemax":S,"aria-valuenow":M??void 0,"data-orientation":y,"data-state":m},b=Or(r);return{value:M,valueAsString:g,min:E,max:S,percent:L,percentAsString:W,indeterminate:_,setValue(p){l({type:"VALUE.SET",value:p})},setToMax(){l({type:"VALUE.SET",value:S})},setToMin(){l({type:"VALUE.SET",value:E})},getRootProps(){return e.element({dir:i("dir"),...Y.root.attrs,id:br(h),"data-max":S,"data-value":M??void 0,"data-state":m,"data-orientation":y,style:{"--percent":_?void 0:L}})},getLabelProps(){return e.element({dir:i("dir"),id:Sr(h),...Y.label.attrs,"data-orientation":y})},getValueTextProps(){return e.element({dir:i("dir"),"aria-live":"polite",...Y.valueText.attrs})},getTrackProps(){return e.element({dir:i("dir"),id:Lr(h),...Y.track.attrs,...q})},getRangeProps(){return e.element({dir:i("dir"),...Y.range.attrs,"data-orientation":y,"data-state":m,style:{[s("isHorizontal")?"width":"height"]:_?void 0:`${L}%`}})},getCircleProps(){return e.element({dir:i("dir"),id:kr(h),...Y.circle.attrs,...q,...b.root})},getCircleTrackProps(){return e.element({dir:i("dir"),"data-orientation":y,...Y.circleTrack.attrs,...b.track})},getCircleRangeProps(){return e.element({dir:i("dir"),...Y.circleRange.attrs,...b.range,"data-state":m})},getViewProps(p){return e.element({dir:i("dir"),...Y.view.attrs,"data-state":p.state,hidden:p.state!==m})}}}function Rr(r,e){return r==null?"indeterminate":r===e?"complete":"loading"}var Ce={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}},Tr={style:{width:"var(--size)",height:"var(--size)"}};function Or(r){const{context:e,computed:n}=r;return{root:Tr,track:Ce,range:{opacity:e.get("value")===0?0:void 0,style:{...Ce.style,"--percent":n("percent"),"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:n("isIndeterminate")?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}var Ar=fr({props({props:r}){const e=r.min??0,n=r.max??100;return{...r,max:n,min:e,defaultValue:r.defaultValue??Cr(e,n),orientation:"horizontal",formatOptions:{style:"percent",...r.formatOptions},translations:{value:({percent:s})=>s===-1?"loading...":`${s} percent`,...r.translations}}},initialState(){return"idle"},entry:["validateContext"],context({bindable:r,prop:e}){return{value:r(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(n){var s;(s=e("onValueChange"))==null||s({value:n})}}))}},computed:{isIndeterminate:({context:r})=>r.get("value")===null,percent({context:r,prop:e}){const n=r.get("value");return er(n)?gr(n,e("min"),e("max"))*100:-1},formatter:vr(({prop:r})=>[r("locale"),r("formatOptions")],(r,e)=>new Intl.NumberFormat(r,e)),isHorizontal:({prop:r})=>r("orientation")==="horizontal"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}},implementations:{actions:{setValue:({context:r,event:e,prop:n})=>{const s=e.value===null?null:Math.max(0,Math.min(e.value,n("max")));r.set("value",s)},validateContext:({context:r,prop:e})=>{const n=e("max"),s=e("min"),i=r.get("value");if(i!=null){if(!Re(n))throw new Error(`[progress] The max value passed \`${n}\` is not a valid number`);if(!Pr(i,n))throw new Error(`[progress] The value passed \`${i}\` exceeds the max value \`${n}\``);if(!_r(i,s))throw new Error(`[progress] The value passed \`${i}\` exceeds the min value \`${s}\``)}}}}}),Re=r=>er(r)&&!isNaN(r),Pr=(r,e)=>Re(r)&&r<=e,_r=(r,e)=>Re(r)&&r>=e,Cr=(r,e)=>r+(e-r)/2;pr()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var Ir=Xe("<div><!></div>"),Nr=Xe("<figure><!> <div><div></div></div></figure>");function ct(r,e){const n=cr();or(e,!0);const s=k(e,"base",3,"flex items-center gap-4"),i=k(e,"height",3,"h-2"),l=k(e,"width",3,"w-full"),h=k(e,"classes",3,""),L=k(e,"labelBase",3,"whitespace-nowrap"),W=k(e,"labelText",3,"text-xs"),S=k(e,"labelClasses",3,""),E=k(e,"trackBase",3,"h-full w-full overflow-x-hidden"),y=k(e,"trackBg",3,"bg-surface-200-800"),P=k(e,"trackRounded",3,"rounded-base"),_=k(e,"trackClasses",3,""),M=k(e,"meterBase",3,"h-full w-full"),g=k(e,"meterBg",3,"bg-surface-950-50"),m=k(e,"meterRounded",3,"rounded-base"),q=k(e,"meterTransition",3,"transition-[width]"),b=k(e,"meterAnimate",3,"animate-progress-indeterminate"),p=k(e,"meterClasses",3,""),R=dr(e,["$$slots","$$events","$$legacy","base","height","width","classes","labelBase","labelText","labelClasses","trackBase","trackBg","trackRounded","trackClasses","meterBase","meterBg","meterRounded","meterTransition","meterAnimate","meterClasses","children"]),C=mr(Ar,()=>({id:n,...R})),B=Pe(()=>Er(C,yr)),H=Pe(()=>X(B).indeterminate?b():"");var G=Nr();let U;var K=ae(G);{var J=F=>{var V=Ir();let z;var a=ae(V);lr(a,()=>e.children),ne(V),Ae(t=>z=re(V,z,{...t,class:`${L()??""} ${W()??""} ${S()??""}`,"data-testid":"progress-label"}),[()=>X(B).getLabelProps()]),_e(F,V)};ur(K,F=>{e.children&&F(J)})}var Q=sr(K,2);let D;var I=ae(Q);let Z;ne(Q),ne(G),Ae((F,V,z)=>{U=re(G,U,{...F,class:`${s()??""} ${i()??""} ${l()??""} ${h()??""}`,"data-testid":"progress"}),D=re(Q,D,{...V,class:`${E()??""} ${y()??""} ${P()??""} ${_()??""}`,"data-testid":"progress-track"}),Z=re(I,Z,{...z,class:`${M()??""} ${g()??""} ${m()??""} ${q()??""} ${X(H)??""} ${p()??""}`,"data-testid":"progress-meter"})},[()=>X(B).getRootProps(),()=>X(B).getTrackProps(),()=>X(B).getRangeProps()]),_e(r,G),ir()}var oe={exports:{}},Ie;function Mr(){return Ie||(Ie=1,function(r){var e=function(n){var s=Object.prototype,i=s.hasOwnProperty,l=Object.defineProperty||function(a,t,o){a[t]=o.value},h,L=typeof Symbol=="function"?Symbol:{},W=L.iterator||"@@iterator",S=L.asyncIterator||"@@asyncIterator",E=L.toStringTag||"@@toStringTag";function y(a,t,o){return Object.defineProperty(a,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),a[t]}try{y({},"")}catch{y=function(t,o,u){return t[o]=u}}function P(a,t,o,u){var c=t&&t.prototype instanceof p?t:p,v=Object.create(c.prototype),T=new F(u||[]);return l(v,"_invoke",{value:Q(a,o,T)}),v}n.wrap=P;function _(a,t,o){try{return{type:"normal",arg:a.call(t,o)}}catch(u){return{type:"throw",arg:u}}}var M="suspendedStart",g="suspendedYield",m="executing",q="completed",b={};function p(){}function R(){}function C(){}var B={};y(B,W,function(){return this});var H=Object.getPrototypeOf,G=H&&H(H(V([])));G&&G!==s&&i.call(G,W)&&(B=G);var U=C.prototype=p.prototype=Object.create(B);R.prototype=C,l(U,"constructor",{value:C,configurable:!0}),l(C,"constructor",{value:R,configurable:!0}),R.displayName=y(C,E,"GeneratorFunction");function K(a){["next","throw","return"].forEach(function(t){y(a,t,function(o){return this._invoke(t,o)})})}n.isGeneratorFunction=function(a){var t=typeof a=="function"&&a.constructor;return t?t===R||(t.displayName||t.name)==="GeneratorFunction":!1},n.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,C):(a.__proto__=C,y(a,E,"GeneratorFunction")),a.prototype=Object.create(U),a},n.awrap=function(a){return{__await:a}};function J(a,t){function o(v,T,O,N){var A=_(a[v],a,T);if(A.type==="throw")N(A.arg);else{var d=A.arg,f=d.value;return f&&typeof f=="object"&&i.call(f,"__await")?t.resolve(f.__await).then(function(w){o("next",w,O,N)},function(w){o("throw",w,O,N)}):t.resolve(f).then(function(w){d.value=w,O(d)},function(w){return o("throw",w,O,N)})}}var u;function c(v,T){function O(){return new t(function(N,A){o(v,T,N,A)})}return u=u?u.then(O,O):O()}l(this,"_invoke",{value:c})}K(J.prototype),y(J.prototype,S,function(){return this}),n.AsyncIterator=J,n.async=function(a,t,o,u,c){c===void 0&&(c=Promise);var v=new J(P(a,t,o,u),c);return n.isGeneratorFunction(t)?v:v.next().then(function(T){return T.done?T.value:v.next()})};function Q(a,t,o){var u=M;return function(v,T){if(u===m)throw new Error("Generator is already running");if(u===q){if(v==="throw")throw T;return z()}for(o.method=v,o.arg=T;;){var O=o.delegate;if(O){var N=D(O,o);if(N){if(N===b)continue;return N}}if(o.method==="next")o.sent=o._sent=o.arg;else if(o.method==="throw"){if(u===M)throw u=q,o.arg;o.dispatchException(o.arg)}else o.method==="return"&&o.abrupt("return",o.arg);u=m;var A=_(a,t,o);if(A.type==="normal"){if(u=o.done?q:g,A.arg===b)continue;return{value:A.arg,done:o.done}}else A.type==="throw"&&(u=q,o.method="throw",o.arg=A.arg)}}}function D(a,t){var o=t.method,u=a.iterator[o];if(u===h)return t.delegate=null,o==="throw"&&a.iterator.return&&(t.method="return",t.arg=h,D(a,t),t.method==="throw")||o!=="return"&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var c=_(u,a.iterator,t.arg);if(c.type==="throw")return t.method="throw",t.arg=c.arg,t.delegate=null,b;var v=c.arg;if(!v)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b;if(v.done)t[a.resultName]=v.value,t.next=a.nextLoc,t.method!=="return"&&(t.method="next",t.arg=h);else return v;return t.delegate=null,b}K(U),y(U,E,"Generator"),y(U,W,function(){return this}),y(U,"toString",function(){return"[object Generator]"});function I(a){var t={tryLoc:a[0]};1 in a&&(t.catchLoc=a[1]),2 in a&&(t.finallyLoc=a[2],t.afterLoc=a[3]),this.tryEntries.push(t)}function Z(a){var t=a.completion||{};t.type="normal",delete t.arg,a.completion=t}function F(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(I,this),this.reset(!0)}n.keys=function(a){var t=Object(a),o=[];for(var u in t)o.push(u);return o.reverse(),function c(){for(;o.length;){var v=o.pop();if(v in t)return c.value=v,c.done=!1,c}return c.done=!0,c}};function V(a){if(a){var t=a[W];if(t)return t.call(a);if(typeof a.next=="function")return a;if(!isNaN(a.length)){var o=-1,u=function c(){for(;++o<a.length;)if(i.call(a,o))return c.value=a[o],c.done=!1,c;return c.value=h,c.done=!0,c};return u.next=u}}return{next:z}}n.values=V;function z(){return{value:h,done:!0}}return F.prototype={constructor:F,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(Z),!a)for(var t in this)t.charAt(0)==="t"&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=h)},stop:function(){this.done=!0;var a=this.tryEntries[0],t=a.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var t=this;function o(N,A){return v.type="throw",v.arg=a,t.next=N,A&&(t.method="next",t.arg=h),!!A}for(var u=this.tryEntries.length-1;u>=0;--u){var c=this.tryEntries[u],v=c.completion;if(c.tryLoc==="root")return o("end");if(c.tryLoc<=this.prev){var T=i.call(c,"catchLoc"),O=i.call(c,"finallyLoc");if(T&&O){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(T){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else if(O){if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,t){for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o];if(u.tryLoc<=this.prev&&i.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var c=u;break}}c&&(a==="break"||a==="continue")&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var v=c?c.completion:{};return v.type=a,v.arg=t,c?(this.method="next",this.next=c.finallyLoc,b):this.complete(v)},complete:function(a,t){if(a.type==="throw")throw a.arg;return a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&t&&(this.next=t),b},finish:function(a){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===a)return this.complete(o.completion,o.afterLoc),Z(o),b}},catch:function(a){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===a){var u=o.completion;if(u.type==="throw"){var c=u.arg;Z(o)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(a,t,o){return this.delegate={iterator:V(a),resultName:t,nextLoc:o},this.method==="next"&&(this.arg=h),b}},n}(r.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(oe)),oe.exports}var ie,Ne;function Te(){return Ne||(Ne=1,ie=(r,e)=>`${r}-${e}-${Math.random().toString(16).slice(3,8)}`),ie}var se,Me;function rr(){if(Me)return se;Me=1;const r=Te();let e=0;return se=({id:n,action:s,payload:i={}})=>{let l=n;return typeof l>"u"&&(l=r("Job",e),e+=1),{id:l,action:s,payload:i}},se}var ee={},qe;function Oe(){if(qe)return ee;qe=1;let r=!1;return ee.logging=r,ee.setLogging=e=>{r=e},ee.log=(...e)=>r?console.log.apply(this,e):null,ee}var ce,Be;function qr(){if(Be)return ce;Be=1;const r=rr(),{log:e}=Oe(),n=Te();let s=0;return ce=()=>{const i=n("Scheduler",s),l={},h={};let L=[];s+=1;const W=()=>L.length,S=()=>Object.keys(l).length,E=()=>{if(L.length!==0){const g=Object.keys(l);for(let m=0;m<g.length;m+=1)if(typeof h[g[m]]>"u"){L[0](l[g[m]]);break}}},y=(g,m)=>new Promise((q,b)=>{const p=r({action:g,payload:m});L.push(async R=>{L.shift(),h[R.id]=p;try{q(await R[g].apply(this,[...m,p.id]))}catch(C){b(C)}finally{delete h[R.id],E()}}),e(`[${i}]: Add ${p.id} to JobQueue`),e(`[${i}]: JobQueue length=${L.length}`),E()});return{addWorker:g=>(l[g.id]=g,e(`[${i}]: Add ${g.id}`),e(`[${i}]: Number of workers=${S()}`),E(),g.id),addJob:async(g,...m)=>{if(S()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return y(g,m)},terminate:async()=>{Object.keys(l).forEach(async g=>{await l[g].terminate()}),L=[]},getQueueLen:W,getNumWorkers:S}},ce}function Br(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ue,Ge;function Gr(){return Ge||(Ge=1,ue=r=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Br=="function"&&(e.type="node"),typeof r>"u"?e:e[r]}),ue}var le,Ue;function Ur(){if(Ue)return le;Ue=1;const e=Gr()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return le=n=>{const s={...n};return["corePath","workerPath","langPath"].forEach(i=>{n[i]&&(s[i]=e(s[i]))}),s},le}var de,De;function tr(){return De||(De=1,de={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),de}const Dr="6.0.1",Wr={version:Dr};var fe,We;function Vr(){return We||(We=1,fe={workerBlobURL:!0,logger:()=>{}}),fe}var he,Ve;function jr(){if(Ve)return he;Ve=1;const r=Wr.version;return he={...Vr(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${r}/dist/worker.min.js`},he}var ve,je;function $r(){return je||(je=1,ve=({workerPath:r,workerBlobURL:e})=>{let n;if(Blob&&URL&&e){const s=new Blob([`importScripts("${r}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(s))}else n=new Worker(r);return n}),ve}var ge,$e;function Fr(){return $e||($e=1,ge=r=>{r.terminate()}),ge}var pe,Fe;function xr(){return Fe||(Fe=1,pe=(r,e)=>{r.onmessage=({data:n})=>{e(n)}}),pe}var me,xe;function zr(){return xe||(xe=1,me=async(r,e)=>{r.postMessage(e)}),me}var ye,ze;function Yr(){if(ze)return ye;ze=1;const r=n=>new Promise((s,i)=>{const l=new FileReader;l.onload=()=>{s(l.result)},l.onerror=({target:{error:{code:h}}})=>{i(Error(`File could not be read! Code=${h}`))},l.readAsArrayBuffer(n)}),e=async n=>{let s=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?s=atob(n.split(",")[1]).split("").map(i=>i.charCodeAt(0)):s=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(s=await e(n.src)),n.tagName==="VIDEO"&&(s=await e(n.poster)),n.tagName==="CANVAS"&&await new Promise(i=>{n.toBlob(async l=>{s=await r(l),i()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const i=await n.convertToBlob();s=await r(i)}else(n instanceof File||n instanceof Blob)&&(s=await r(n));return new Uint8Array(s)};return ye=e,ye}var we,Ye;function Hr(){if(Ye)return we;Ye=1;const r=jr(),e=$r(),n=Fr(),s=xr(),i=zr(),l=Yr();return we={defaultOptions:r,spawnWorker:e,terminateWorker:n,onMessage:s,send:i,loadImage:l},we}var be,He;function ar(){if(He)return be;He=1;const r=Ur(),e=rr(),{log:n}=Oe(),s=Te(),i=tr(),{defaultOptions:l,spawnWorker:h,terminateWorker:L,onMessage:W,loadImage:S,send:E}=Hr();let y=0;return be=async(P="eng",_=i.LSTM_ONLY,M={},g={})=>{const m=s("Worker",y),{logger:q,errorHandler:b,...p}=r({...l,...M}),R={},C=typeof P=="string"?P.split("+"):P;let B=_,H=g;const G=[i.DEFAULT,i.LSTM_ONLY].includes(_)&&!p.legacyCore;let U,K;const J=new Promise((d,f)=>{K=d,U=f}),Q=d=>{U(d.message)};let D=h(p);D.onerror=Q,y+=1;const I=({id:d,action:f,payload:w})=>new Promise((j,$)=>{n(`[${m}]: Start ${d}, action=${f}`);const x=`${f}-${d}`;R[x]={resolve:j,reject:$},E(D,{workerId:m,jobId:d,action:f,payload:w})}),Z=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),F=d=>I(e({id:d,action:"load",payload:{options:{lstmOnly:G,corePath:p.corePath,logging:p.logging}}})),V=(d,f,w)=>I(e({id:w,action:"FS",payload:{method:"writeFile",args:[d,f]}})),z=(d,f)=>I(e({id:f,action:"FS",payload:{method:"readFile",args:[d,{encoding:"utf8"}]}})),a=(d,f)=>I(e({id:f,action:"FS",payload:{method:"unlink",args:[d]}})),t=(d,f,w)=>I(e({id:w,action:"FS",payload:{method:d,args:f}})),o=(d,f)=>I(e({id:f,action:"loadLanguage",payload:{langs:d,options:{langPath:p.langPath,dataPath:p.dataPath,cachePath:p.cachePath,cacheMethod:p.cacheMethod,gzip:p.gzip,lstmOnly:[i.DEFAULT,i.LSTM_ONLY].includes(B)&&!p.legacyLang}}})),u=(d,f,w,j)=>I(e({id:j,action:"initialize",payload:{langs:d,oem:f,config:w}})),c=(d="eng",f,w,j)=>{if(G&&[i.TESSERACT_ONLY,i.TESSERACT_LSTM_COMBINED].includes(f))throw Error("Legacy model requested but code missing.");const $=f||B;B=$;const x=w||H;H=x;const te=(typeof d=="string"?d.split("+"):d).filter(nr=>!C.includes(nr));return C.push(...te),te.length>0?o(te,j).then(()=>u(d,$,x,j)):u(d,$,x,j)},v=(d={},f)=>I(e({id:f,action:"setParameters",payload:{params:d}})),T=async(d,f={},w={text:!0},j)=>I(e({id:j,action:"recognize",payload:{image:await S(d),options:f,output:w}})),O=async(d,f)=>{if(G)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return I(e({id:f,action:"detect",payload:{image:await S(d)}}))},N=async()=>(D!==null&&(L(D),D=null),Promise.resolve());W(D,({workerId:d,jobId:f,status:w,action:j,data:$})=>{const x=`${j}-${f}`;if(w==="resolve")n(`[${d}]: Complete ${f}`),R[x].resolve({jobId:f,data:$}),delete R[x];else if(w==="reject")if(R[x].reject($),delete R[x],j==="load"&&U($),b)b($);else throw Error($);else w==="progress"&&q({...$,userJobId:f})});const A={id:m,worker:D,load:Z,writeText:V,readText:z,removeFile:a,FS:t,reinitialize:c,setParameters:v,recognize:T,detect:O,terminate:N};return F().then(()=>o(P)).then(()=>u(P,_,g)).then(()=>K(A)).catch(()=>{}),J},be}var Le,Ke;function Kr(){if(Ke)return Le;Ke=1;const r=ar();return Le={recognize:async(s,i,l)=>{const h=await r(i,1,l);return h.recognize(s).finally(async()=>{await h.terminate()})},detect:async(s,i)=>{const l=await r("osd",0,i);return l.detect(s).finally(async()=>{await l.terminate()})}},Le}var Se,Je;function Jr(){return Je||(Je=1,Se={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),Se}var ke,Ze;function Zr(){return Ze||(Ze=1,ke={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),ke}var Ee,Qe;function Qr(){if(Qe)return Ee;Qe=1,Mr();const r=qr(),e=ar(),n=Kr(),s=Jr(),i=tr(),l=Zr(),{setLogging:h}=Oe();return Ee={languages:s,OEM:i,PSM:l,createScheduler:r,createWorker:e,setLogging:h,...n},Ee}var ut=Qr();export{ct as P,Br as c,ut as s};
